"use strict";(self["webpackChunkmoric_app"]=self["webpackChunkmoric_app"]||[]).push([[231],{2176:function(e,t,s){s.d(t,{Z:function(){return M}});var a=s(3396),r=s(9242),o=s(7139);const i={class:"topNavigation"},n={class:"topLeft"},l=(0,a._)("div",{class:"blackIcon"},"",-1),c=[l],d={class:"stateMsg"},u=(0,a._)("div",{class:"appLogo"},[(0,a._)("div",{class:"appIcon"},"Moric")],-1);function p(e,t,s,l,p,g){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",n,[(0,a._)("a",{onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>l.goTo&&l.goTo(...e)),["stop"])),class:"black"},c),(0,a._)("div",d,(0,o.zw)(s.name),1)]),u])}var g=s(2483),m=s(3017),h=s.n(m),_=s(4239),v=s(1917),f={name:"MoricAppNavation",props:["name","msg"],setup(e){const t=(0,g.tv)(),s=(0,v.z)();function a(){const a=(0,_.A)();a.clearUserList(),a.$reset(),s.$reset(),h().publish("clearUserList"),h().publish("scoketDisconnect"),t.replace({name:e.msg.name,path:e.msg.path})}return{goTo:a}}},y=s(89);const k=(0,y.Z)(f,[["render",p]]);var M=k},9231:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var a=s(3396);const r={class:"MoricRegister"};function o(e,t,s,o,i,n){const l=(0,a.up)("MoricAppNavation"),c=(0,a.up)("MoricRegisterContent");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(l,{name:"登录",msg:{path:"/",name:"MoricLogin"}}),(0,a.Wm)(c)])}var i=s(9242),n=s(7139);const l=e=>((0,a.dD)("data-v-3e9ce52f"),e=e(),(0,a.Cn)(),e),c={class:"content"},d=l((()=>(0,a._)("div",{class:"title"}," JOIN IN ",-1))),u={action:""},p={class:"contentForm"},g={class:"headSculpture"},m={class:"inputSearch"},h=["src"],_={class:"inputheadSculpture"},v={class:"loginId"},f={class:"loginPassword"},y=l((()=>(0,a._)("div",{class:"loginCheckBox"},[(0,a._)("label",{class:"checkbox-container"},[(0,a._)("input",{type:"checkbox"}),(0,a._)("span",{class:"checkmark"}),(0,a.Uk)("隐私通知 ")])],-1))),k={class:"loginSubmit"},M={class:"loginOther"},R=l((()=>(0,a._)("p",null,"其他登录方式?",-1))),U={class:"loginOtherContent"},b=l((()=>(0,a._)("div",{class:"loginOtherContentTop"},[(0,a._)("ul",null,[(0,a._)("li",{style:{color:"#167efd"}},""),(0,a._)("li",{style:{color:"#d52c2b"}},""),(0,a._)("li",{style:{color:"#28a8ea"}},"")])],-1))),C={class:"loginOtherContentBottom"};function w(e,t,s,r,o,l){return(0,a.wg)(),(0,a.iD)("div",c,[d,(0,a._)("form",u,[(0,a._)("div",p,[(0,a._)("div",g,[(0,a._)("div",m,[r.Register.src?((0,a.wg)(),(0,a.iD)("img",{key:0,src:r.Register.src,alt:"头像"},null,8,h)):(0,a.kq)("",!0),(0,a._)("div",_,[(0,a._)("input",{type:"file",title:"headSculpture",onChange:t[0]||(t[0]=(...e)=>r.handleFileUpload&&r.handleFileUpload(...e)),placeholder:"上传头像"},null,32)])])]),(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.user.userName=e),placeholder:" Name"},null,512),[[i.nr,r.user.userName]])]),(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>r.user.userPassWord=e),autocomplete:"off",placeholder:" pas"},null,512),[[i.nr,r.user.userPassWord]])]),y,(0,a._)("div",k,[(0,a._)("a",{onClick:t[3]||(t[3]=(0,i.iM)(((...e)=>r.sumitUser&&r.sumitUser(...e)),["stop"]))},"注册")])])]),(0,a._)("div",{class:(0,n.C_)(["alert",r.RegisterClass])}," 提示："+(0,n.zw)(r.Register.alert.data),3),(0,a._)("div",M,[R,(0,a._)("div",U,[b,(0,a._)("div",C,[(0,a._)("p",null,[(0,a.Uk)("还没有账号?"),(0,a._)("a",{href:"#",onClick:t[4]||(t[4]=(0,i.iM)((()=>{}),["stop"]))},"去注册")])])])])])}var N=s(4870),D=(s(2062),s(7658),s(56)),A=s(2483),F=s(4239),L=s(1917);const S={user:void 0,router:void 0,start(e){this.user=e,this.router=(0,A.tv)(),this.store=(0,F.A)(),this.chatRecord=(0,L.z)()},handleFileUpload(e,t){let s=this.user,a=e.target.files[0],r=window.URL.createObjectURL(a);t.src=r;let o=new FileReader;/image/.test(a.type)?(o.readAsDataURL(a),this.user.typeof="jpg"):/png/.test(a.type)?(o.readAsDataURL(a),this.user.typeof="png"):/jpg/.test(a.type)?(o.readAsDataURL(a),this.user.typeof="jpg",console.log(a.type)):(o.readAsText(a),this.user.typeof="text"),o.onload=function(){s.img=o.result}},userNameDetection(){let e="",t=!1;return/^[\u4E00-\u9FFFa-zA-Z0-9_\-\s]{2,30}$/.test(this.user.userName)?(e="成功",t=!0):(e="用户名需在2~20字符之间",t=!1),{state:t,data:e}},loginSending(e,t,s){(0,D.Z)({url:"/moric/register",method:"post",data:e}).then((e=>{e.data.state?(console.log(e.data.body.user_id),alert("你的id："+e.data.body.user_id),t.alert.data="你的id："+e.data.body.user_id,s.success=!0,s.fail=!1,sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("self",JSON.stringify(e.data.body)),this.store.self=e.data.body,this.chatRecord.user_id=e.data.body.user_id,this.jump()):(alert(e.data.state),t.alert.data=e.data.alert,s.success=!1,s.fail=!0)}))},jump(){this.router.push({path:"/MoricHome/MoricMsg",name:"MoricMsg",query:{msg:"hello"}})}};var j=S,I={name:"MoricRegisterContent",setup(){let e=(0,N.qj)({img:"",typeof:"",userName:"",userPassWord:""}),t=(0,N.qj)({src:"",alert:{state:!0,data:""}}),s=(0,N.qj)({success:!1,fail:!1});function a(e){j.handleFileUpload(e,t)}function r(){let a={img:e.img,imgtype:e.typeof,name:e.userName,password:e.userPassWord};t.alert=j.userNameDetection(),t.alert.state?(s.success=!0,j.loginSending(a,t,s)):s.fail=!0}return j.start(e),{handleFileUpload:a,user:e,sumitUser:r,Register:t,RegisterClass:s}}},O=s(89);const Z=(0,O.Z)(I,[["render",w],["__scopeId","data-v-3e9ce52f"]]);var x=Z,W=s(2176),q={name:"MoricRegister",components:{MoricRegisterContent:x,MoricAppNavation:W.Z}};const z=(0,O.Z)(q,[["render",o]]);var P=z}}]);
//# sourceMappingURL=231.af23bb4d.js.map